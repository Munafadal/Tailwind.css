<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tailwind Traffic Lights with JS</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-neutral-900 p-8">
  <!-- Vertical traffic light -->
  <figure class="bg-neutral-800 rounded-3xl p-4 shadow-2xl shadow-black/60 border border-neutral-700">
    <div class="flex flex-col gap-4">
      <!-- RED -->
      <div id="red" class="size-16 rounded-full bg-red-700/25 ring-2 ring-red-300/10"></div>
      <!-- YELLOW -->
      <div id="yellow" class="size-16 rounded-full bg-yellow-700/25 ring-2 ring-yellow-300/10"></div>
      <!-- GREEN -->
      <div id="green" class="size-16 rounded-full bg-emerald-700/25 ring-2 ring-emerald-300/10"></div>
    </div>
  </figure>

  <script>
    // Utility: turn a light "on" or "off"
    function turnOn(el, color) {
      el.className = `size-16 rounded-full bg-${color}-500 ring-2 ring-${color}-300/50 shadow-[0_0_30px_6px_rgba(0,0,0,0.4)]`;
      if (color === "red") el.classList.add("shadow-[0_0_30px_6px_rgba(220,38,38,0.65)]");
      if (color === "yellow") el.classList.add("shadow-[0_0_30px_6px_rgba(234,179,8,0.65)]");
      if (color === "emerald") el.classList.add("shadow-[0_0_30px_6px_rgba(16,185,129,0.65)]");
    }

    function turnOff(el, color) {
      el.className = `size-16 rounded-full bg-${color}-700/25 ring-2 ring-${color}-300/10`;
    }

    // Grab lights
    const red = document.getElementById("red");
    const yellow = document.getElementById("yellow");
    const green = document.getElementById("green");

    // Sequence: Red → Green → Yellow → Red
    function cycleLights() {
      // RED on
      turnOn(red, "red");
      turnOff(yellow, "yellow");
      turnOff(green, "emerald");

      setTimeout(() => {
        // GREEN on
        turnOff(red, "red");
        turnOn(green, "emerald");

        setTimeout(() => {
          // YELLOW on
          turnOff(green, "emerald");
          turnOn(yellow, "yellow");

          setTimeout(cycleLights, 2000); // Back to RED
        }, 2000); // Green duration
      }, 3000); // Red duration
    }

    // Start
    cycleLights();
  </script>
</body>
</html>
